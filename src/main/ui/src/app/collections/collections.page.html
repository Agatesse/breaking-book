<ion-content>
    <ion-grid>
        <ion-row justify-content-center>
            <ion-col size-lg="8">
                <ion-item>
                    <ion-input [(ngModel)]="userInput" placeholder="Enter your new collection name"></ion-input>
                    <ion-button (click)="createNewCollection()" size="medium" slot="end">Create new collection
                    </ion-button>
                </ion-item>
            </ion-col>
        </ion-row>
        <ion-row justify-content-center>
            <ion-col size-xl="10">
                <ion-grid>
                    <ion-row>
                        <ion-col *ngFor="let collection of collections" size-md="6" size-xs="12">
                            <div class="collection-div">
                                <ion-grid>
                                    <ion-row class="action-buttons">
                                        <ion-col>
                                            <ion-button (click)="deleteCollection(collection.id)"
                                                        class="ion-float-right" color="danger" fill="solid">
                                                <ion-icon name="close-circle" slot="icon-only"></ion-icon>
                                            </ion-button>
                                            <ion-button class="ion-float-right" color="primary" fill="outline">
                                                <ion-icon name="create" slot="icon-only"></ion-icon>
                                            </ion-button>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>
                                        <ion-col>
                                            <h2 text-center>{{collection.name}}</h2>
                                        </ion-col>
                                    </ion-row>
                                    <ion-row>

                                        <ion-col *ngFor="let book of booksCollectionsMap.get(collection.id)"
                                                 class="books-div" size-lg="3" size-sm="4" size-xs="6">
                                            <ion-card class="overlay-container">
                                                <ion-img *ngIf="book.image != null && book.image != ''"
                                                         [src]="book.image"
                                                         class="cover-img"></ion-img>
                                                <ion-img *ngIf="book.image == null || book.image == ''"
                                                         [src]="defaultCover"
                                                         class="cover-img"></ion-img>
                                                <div (click)="goToBookDetails(book.id)" class="overlay">
                                                    <div class="overlay-text">{{book.title}}</div>
                                                </div>
                                                <ion-fab-button (click)="deleteBookFromLibrary(book.id)"
                                                                class="fab-btn"
                                                                color="danger">
                                                    <ion-icon name="close-circle"></ion-icon>
                                                </ion-fab-button>
                                            </ion-card>
                                        </ion-col>
                                        <ion-col class="books-div" size-lg="3" size-sm="4" size-xs="6">
                                            <ion-card (click)="openBookToCollectionModal(collection)"
                                                      class="overlay-container center-content-vertically add-book-card"
                                                      text-center>
                                                <ion-icon color="primary" name="add-circle" size="large"></ion-icon>
                                            </ion-card>
                                        </ion-col>
                                    </ion-row>
                                </ion-grid>
                            </div>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-col>
        </ion-row>
    </ion-grid>

</ion-content>
